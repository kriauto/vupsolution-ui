<!DOCTYPE html>
<html lang="fr">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

</head>

<body>

<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-custom fixed-top">
  <span class="navbar-brand" routerLink="/"><span  class="logo">Vup-solution</span></span>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
    <ul class="navbar-nav mr-auto mt-2 mt-lg-0"><span class="info-account" [hidden]="!variableglobas.islogged">Bienvenu : {{user.sex}} {{user.firstname}} {{user.lastname}}</span></ul>

    <ul class="navbar-nav">
     <li class="nav-item dropdown" [hidden]="!variableglobas.islogged">
      <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        <span class="info-account">Administration</span>
      </a>
      <div class="dropdown-menu" aria-labelledby="dropdownMenu1">
        <a class="dropdown-item" routerLink="/enterprise"><span class="info-account">Entreprise</span></a>
        <a class="dropdown-item" routerLink="/factory"><span class="info-account">Atelier</span></a>
        <a class="dropdown-item" routerLink="/productionline"><span class="info-account">Ligne Production</span></a>
        <a class="dropdown-item" routerLink="/workplace"><span class="info-account">Poste</span></a>
        <a class="dropdown-item" routerLink="/noncompliance"><span class="info-account">Non Conformité</span></a>
        <a class="dropdown-item" routerLink="/operation"><span class="info-account">Opération</span></a>
        <a class="dropdown-item" routerLink="/machine"><span class="info-account">Machine</span></a>
        <a class="dropdown-item" routerLink="/skill"><span class="info-account">Compétence</span></a>
        <a class="dropdown-item" routerLink="closeday"><span class="info-account">Jours Fermeture</span></a>
        <a class="dropdown-item" routerLink="/calendar"><span class="info-account">Calendrier</span></a>
        <a class="dropdown-item" routerLink="/role"><span class="info-account">Role</span></a>
        <a class="dropdown-item" routerLink="/shift"><span class="info-account">Shift</span></a>
        <a class="dropdown-item" routerLink="/employee"><span class="info-account">Employé</span></a>
        <a class="dropdown-item" routerLink="/assignment"><span class="info-account">Affectation</span></a>
        <a class="dropdown-item" routerLink="/client"><span class="info-account">Client</span></a>
        <a class="dropdown-item" routerLink="/product"><span class="info-account">Produit</span></a>
        <a class="dropdown-item" routerLink="/ordered"><span class="info-account">Commande</span></a>
        <a class="dropdown-item" routerLink="/fabricationorder"><span class="info-account">Order Fabrication</span></a>
      </div>
     </li>
     <li class="nav-item dropdown" [hidden]="!variableglobas.islogged">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown2" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="info-account">Production</span>
        </a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu2">
          <a class="dropdown-item" routerLink="/prodplanning"><span class="info-account">Plannification</span></a>
          <a class="dropdown-item" routerLink="/proddataentry"><span class="info-account">Saisie</span></a>
          <a class="dropdown-item" routerLink="/prodsupervision"><span class="info-account">Supervision</span></a>
        </div>
     </li>
     <li class="nav-item dropdown" [hidden]="!variableglobas.islogged">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown3" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="info-account">Qualité</span>
        </a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu3">
          <a class="dropdown-item" routerLink="/qualplanning"><span class="info-account">Plannification</span></a>
          <a class="dropdown-item" routerLink="/qualdataentry"><span class="info-account">Saisie</span></a>
          <a class="dropdown-item" routerLink="/qualsupervision"><span class="info-account">Supervision</span></a>
        </div>
     </li>
     <li class="nav-item dropdown" [hidden]="!variableglobas.islogged">
        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown4" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="info-account">Maintenance</span>
        </a>
        <div class="dropdown-menu" aria-labelledby="dropdownMenu4">
          <a class="dropdown-item" routerLink="/mainplanning"><span class="info-account">Plannification</span></a>
          <a class="dropdown-item" routerLink="/maindataentry"><span class="info-account">Saisie</span></a>
          <a class="dropdown-item" routerLink="/mainsupervision"><span class="info-account">Supervision</span></a>
        </div>
     </li>
     <li class="nav-item">
        <a class="nav-link" href="#" role="button" (click)="openModal(template)" [hidden]="variableglobas.islogged"><span class="info-account">Connexion</span></a>
     </li>
     <li class="nav-item">
        <a class="nav-link" href="/" role="button" (click)="logout()" [hidden]="!variableglobas.islogged"><span class="info-account">Déconnexion</span></a>
     </li>
    </ul>
  </div>
</nav>

<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Authentification</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <alert type="success" [hidden]="failed">
      <strong>Well done!</strong> {{error.message}}.
    </alert>
    <alert type="danger"  [hidden]="success">
      <strong>Well done!</strong> {{error.message}}.
    </alert>
    <form [formGroup]="userForm">
      <div class="form-group">
        <label>Identifiant</label>
        <input type="email" class="form-control" id="identifiant" formControlName="login" aria-describedby="emailHelp" placeholder="Identifiant">
      </div>
      <div class="form-group">
        <label>Mot de passe</label>
        <input type="password" class="form-control" id="password" formControlName="password" placeholder="Mot de passe">
      </div>
      <div class="form-check">
        <input type="checkbox" class="form-check-input" id="exampleCheck1">
        <label class="form-check-label" for="exampleCheck1">Se souvenir</label>
      </div>
      <button type="submit" class="btn btn-primary" (click)="login();false">Se connecter</button>
    </form>  </div>
</ng-template>

<div style="min-height:100vh;"><router-outlet></router-outlet></div>

<!-- Footer -->
<footer class="py-3 bg-black">
  <div class="container">
    <p class="m-0 text-center text-white small">Copyright &copy; Vup-solution 2019</p>
  </div>
</footer>

</body>

</html>
